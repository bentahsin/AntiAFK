# =================================================================== #
#                  AntiAFK by BenTahsin - Ana Konfigürasyon           #
# =================================================================== #
# Plugin ile ilgili tüm mesajları ve metinleri 'messages.yml' dosyasından düzenleyebilirsiniz.

# ================================== #
#         DİL AYARLARI             #
# ================================== #
# Eklentinin kullanacağı dili belirleyin.
# Bu ayar hem konsola yazılan sistem mesajlarını (başlatma, hata logları vb.)
# hem de oyunculara gönderilen varsayılan mesajları etkiler.
# Mevcut Seçenekler: Turkish, English, Spanish, German, French, Russian, Polish
lang: "Turkish"

# ================================== #
#       HATA AYIKLAMA (DEBUG)        #
# ================================== #
# Bu bölüm, eklentinin belirli modüllerinden detaylı konsol logları almanızı sağlar.
# Sorun giderme veya eklentinin iç işleyişini merak ettiğiniz durumlar için kullanışlıdır.
debug:
  # Ana şalter: Bu 'false' ise, aşağıdaki hiçbir ayarın önemi kalmaz ve hiç debug mesajı gösterilmez.
  enabled: false

  # Modül bazında debug ayarları. Sadece 'enabled: true' ise geçerlidir.
  modules:
    # Klasik aktivite dinleyicileri (hareket, tıklama, sohbet vb.)
    activity_listener: false
    # Gelişmiş Davranışsal Analiz (Yörünge Tespiti)
    behavioral_analysis: false
    # Öğrenme Modu (Desen Tanıma)
    learning_mode: false
    # Komut Yönetimi
    command_registration: false
    # Veritabanı İşlemleri
    database_queries: false

# ================================== #
#         ENTEGRASYONLAR           #
# ================================== #

# Discord Webhook entegrasyonu. Kick/ban gibi önemli bildirimleri Discord'a göndermek için.
discord_webhook:
  enabled: false
  webhook_url: "BURAYA_WEBHOOK_URL_YAPISTIRIN"
  bot_name: "AntiAFK Guard"
  avatar_url: ""

# ================================== #
#         ANA AFK SİSTEMİ            #
# ================================== #

# Bir oyuncunun nihai eylemlere maruz kalmadan önce AFK kalabileceği varsayılan maksimum süre.
# Bu değer, WorldGuard bölge ayarları tarafından ezilebilir.
# Format: 10s (saniye), 15m (dakika), 1h (saat), 1d (gün). Örn: "30m"
max_afk_time: "15m"

# Oyuncuya nihai eylemler uygulanmadan önce gönderilecek uyarılar.
# Uyarılar, 'time' değerine göre büyükten küçüğe doğru kontrol edilir.
# type: CHAT, ACTION_BAR, TITLE, BOSS_BAR
# bar_color: BLUE, GREEN, PINK, PURPLE, RED, WHITE, YELLOW
# bar_style: SOLID, SEGMENTED_6, SEGMENTED_10, SEGMENTED_12, SEGMENTED_20
warnings:
  - time: "5m"
    type: "CHAT"
    message: "&e[AFK] &7Hareketsiz görünüyorsun. &c%time_left% &7içinde hareket etmezsen cezalandırılacaksın."
    bar_color: "RED"
    bar_style: "SOLID"

  - time: "1m"
    type: "TITLE"
    title: "&c&lDİKKAT"
    subtitle: "&e1 dakika içinde hareket etmelisin!"
    sound: "BLOCK_NOTE_BLOCK_PLING"
    bar_color: "RED"
    bar_style: "SOLID"

  - time: "10s"
    type: "ACTION_BAR"
    message: "&4&lSunucudan atılıyor: %time_left%"
    sound: "ENTITY_EXPERIENCE_ORB_PICKUP"
    bar_color: "RED"
    bar_style: "SOLID"

# Oyuncu 'max_afk_time' süresini doldurduğunda çalıştırılacak komutlar.
# type: CONSOLE (konsol tarafından), PLAYER (oyuncu tarafından), DISCORD_WEBHOOK
actions:
  - type: "CONSOLE"
    command: "kick %player% &cAFK süreniz doldu."

# ================================== #
#        KADEMELİ CEZA SİSTEMİ       #
# ================================== #
progressive_punishment:
  enabled: true

  # Bir oyuncunun ceza sayacının ne kadar süre sonra sıfırlanacağını belirler.
  # Devre dışı bırakmak için "never" yazın.
  reset_after: "30d"

  # Ceza kademeleri. Eklenti, bir oyuncunun ceza sayısına eşit veya
  # ondan KÜÇÜK olan en YÜKSEK 'count' değerini bulup uygular.
  punishments:
    # 1. kez yakalandığında
    - count: 1
      actions:
        - type: "CONSOLE"
          command: "warn %player% Lütfen sunucuda AFK kalmaktan kaçının."
        - type: "PLAYER"
          command: "spawn"

    # 3. kez yakalandığında
    - count: 3
      actions:
        - type: "CONSOLE"
          command: "kick %player% &cTekrar eden AFK davranışı nedeniyle sunucudan atıldınız."

    # 5. kez ve sonrasında yakalandığında
    - count: 5
      actions:
        - type: "CONSOLE"
          command: "tempban %player% 10m &cAFK kalmayı alışkanlık haline getirdiğiniz için geçici olarak uzaklaştırıldınız."
        - type: "DISCORD_WEBHOOK"
          message: ":rotating_light: **%player_displayname%** has been temporarily banned for 10 minutes due to repeated AFK behavior."

# ================================== #
#         AKTİVİTE TESPİTİ           #
# ================================== #
detection:
  # Bir oyuncunun bot sayılması için aynı blokta kaç kez
  # hareket dışı aktivite (eşya atma, eğilme vb.) yapması gerekir?
  max-pointless-activities: 15

  # Hangi oyuncu eylemlerinin aktivite olarak sayılacağını belirleyin.
  check_camera_movement: true
  check_chat_activity: true
  check_interaction: true         # Blok kırma/koyma
  check_toggle_sneak: true
  check_player_attack: true
  check_item_drop: true
  check_inventory_activity: true
  check_item_consume: true
  # 'check_held_item_change' ve 'check_book_activity' ayarları, basit botları engellemek için
  # genellikle false olarak bırakılabilir, ancak isteğe bağlı olarak açılabilir.
  check_held_item_change: false   # Hotbar'da eşya değiştirme
  check_book_activity: false      # Kitap okuma/yazma

  # Sürekli dünyalar arası geçiş yaparak AFK sistemini istismar etmeyi engeller.
  check-world-change:
    enabled: true
    cooldown: 20
    max-changes: 5

  # Auto-clicker (tutarlı tıklama aralığı) tespitini yönetir.
  auto-clicker:
    enabled: true
    check-amount: 20
    max-deviation: 10
    detections-to-punish: 3

  # Bir oyuncu ne kadar süre hareketsiz kaldıktan sonra otomatik olarak [AFK] tag'ı alacak?
  # Bu süre, nihai ceza süresinden (max_afk_time) daha kısa olmalıdır.
  # Devre dışı bırakmak için "disabled" yazın.
  auto_set_afk_after: "1m"

# ================================== #
#        YENİDEN GİRİŞ KORUMASI      #
# ================================== #
rejoin_protection:
  enabled: true
  # Sistem tarafından AFK nedeniyle cezalandırılan bir oyuncunun,
  # ne kadar süre boyunca sunucuya yeniden katıldığında tekrar cezalandırılacağını belirler.
  cooldown: "5m"

# ================================== #
#      GELİŞMİŞ DAVRANIŞ ANALİZİ     #
# ================================== #
# BU SİSTEM, SÜREKLİ AYNI YÖRÜNGEDE HAREKET EDEN BOTLARI TESPİT EDER.
behavioral-analysis:
  enabled: true
  history-size-ticks: 600
  min-trajectory-points: 20
  max-trajectory-points: 300
  max-repeats: 3
  location-tolerance: 1.0
  direction-tolerance: 25.0
  similarity-threshold: 0.85

# ================================== #
#     ÖĞRENME MODU (DESEN TESPİTİ)     #
# ================================== #
learning_mode:
  enabled: true
  analysis_task_period_ticks: 40
  similarity_threshold: 25.0
  search_radius: 10
  security:
    max_pattern_file_size_kb: 1024
    max_vectors_per_pattern: 12000
    pre_filter_size_ratio: 0.5

# =================================== #
#   TURING TESTİ (CAPTCHA) KORUMASI   #
# =================================== #
turing_test:
  enabled: true

  # HANGİ CAPTCHA TÜRLERİNİN KULLANILACAĞINI VE AĞIRLIKLARINI BELİRLEYEN ANA BÖLÜM
  palettes:
    QUESTION_ANSWER:
      enabled: true
      weight: 40
    COLOR_PALETTE:
      enabled: true
      weight: 60

  # Soru/Cevap Captcha'sı için ayarlar
  question_answer:
    answer_timeout_seconds: 20

  # Renk Paleti Captcha'sı için ayarlar
  color_palette:
    gui_rows: 3
    time_limit_seconds: 15
    correct_item_count: 5
    distractor_color_count: 2
    distractor_item_count_per_color: 4
    available_colors:
      - "RED"
      - "BLUE"
      - "LIME"
      - "YELLOW"
      - "ORANGE"
      - "CYAN"
      - "MAGENTA"

  # Oyuncu testi geçemezse çalıştırılacak komutlar.
  on_failure_actions:
    - type: "CONSOLE"
      command: "kick %player% &cBot testi başarısız!"
    - type: "DISCORD_WEBHOOK"
      message: ":shield: **%player_displayname%** was kicked for failing the bot captcha test."

# ================================== #
#      WORLDGUARD ENTEGRASYONU       #
# ================================== #
worldguard_integration:
  enabled: true

  # Bölgelere özel ayarlar.
  region_overrides:
    '0':
      region: "pvp_arena"
      max_afk_time: "3m"
      actions:
        - type: "PLAYER"
          command: "spawn"
    '1':
      region: "afk_odasi"
      max_afk_time: "disabled"
    '2':
      region: "ticaret_alani"
      max_afk_time: "1h"

# ================================== #
#          MANUEL /AFK KOMUTU        #
# ================================== #
afk_command:
  enabled: true
  permission: "antiafk.command.afk"

  on_afk:
    broadcast: true
    default_reason: "Sebep belirtilmedi"
    set_invulnerable: true
    tag_format: "&7[AFK] "

  on_return:
    broadcast: true

# ================================== #
#      İSTİSNALAR (EXEMPTIONS)   #
# ================================== #
exemptions:
  permissions:
    bypass_all: "antiafk.bypass.all"
    bypass_classic: "antiafk.bypass.classic"
    bypass_behavioral: "antiafk.bypass.behavioral"
    bypass_pointless: "antiafk.bypass.pointless"
    bypass_autoclicker: "antiafk.bypass.autoclicker"

  disabled_worlds:
    - "creative_dunyasi"

  exempt_gamemodes:
    - "SPECTATOR"
    - "CREATIVE"